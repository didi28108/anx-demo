<!doctype html>

<!-- <div id="includedNav"></div> -->



<div class="container" style="min-height:700px;">
	<div ng-controller="CourseCtrl">
		<!-- <img src="http://placehold.it/1170x150" alt=""> -->
		<div class="col-md-3">
			<h3>課程單位</h3>
			<div class="list-group">
				<a ng-repeat="cat in categoryList" href="" class="list-group-item" ng-click="showCourse(cat.abbr)">
					{{cat.name}}
					<span class="badge">{{cat.course.length}}</span>
				</a>
			</div>
		</div>
		<div class="col-md-9">
			<h3>{{currentCategory.name}} &nbsp;</h3>
			<!-- search bar -->
			<div class="input-group">
				<span class="input-group-addon" id="sizing-addon1">
					<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
				</span>
				<input type="text" class="form-control" placeholder="搜尋課程" aria-describedby="sizing-addon1" ng-model="searchFish">
			</div>
			<br>
			<div class="panel panel-default">
			  <!-- Table -->
			  <table class="table table-striped table-hover">
			  	<thead>
			  		<tr>
			  			<th>地區</th>
			  			<th>
								<a href="#" ng-click="sortType = 'name'; sortReverse = !sortReverse">課程名稱</a>
			  				<span class="glyphicon glyphicon-chevron-down" aria-hidden="true" ng-show="sortType == 'name' && !sortReverse"></span>
								<span class="glyphicon glyphicon-chevron-up" aria-hidden="true" ng-show="sortType == 'name' && sortReverse"></span>
			  			</th>
			  			<th>
			  				<a href="#" ng-click="sortType = 'startdate'; sortReverse = !sortReverse">開始日期</a>
			  				<span class="glyphicon glyphicon-chevron-down" aria-hidden="true" ng-show="sortType == 'startdate' && !sortReverse"></span>
								<span class="glyphicon glyphicon-chevron-up" aria-hidden="true" ng-show="sortType == 'startdate' && sortReverse"></span>
			  			</th>
			  			<th>結束日期</th>
			  			<th>開課確認日期</th>
			  			<th style="text-align:center;">
			  				<span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
			  				<a href="#" ng-click="sortType = 'clicks'; sortReverse = !sortReverse">點閱</a>
			  				<span class="glyphicon glyphicon-chevron-down" aria-hidden="true" ng-show="sortType == 'clicks' && !sortReverse"></span>
								<span class="glyphicon glyphicon-chevron-up" aria-hidden="true" ng-show="sortType == 'clicks' && sortReverse"></span>
			  			</th>
			  		</tr>
			  	</thead>
			  	<tbody>
			  		<tr ng-if="course.category.abbr==currentCategory.abbr" ng-repeat="course in courses | orderBy:sortType:sortReverse | filter:searchFish" id="{{course._id}}">
			  			<td><span class="label label-primary">{{course.area.name}}</span></td>
			  			<td><a href="/course/{{course._id}}">{{course.name}}</a></td>
			  			<td>{{course.startdate}}</td>
			  			<td>{{course.enddate}}</td>
			  			<td>{{course.confirmdate}}</td>
			  			<td style="text-align:center;">{{course.clicks}}</td>
			  		</tr>
			  	</tbody>
			  </table>
			</div>
		</div>
	</div>

</div>


<!-- <div id="includedFooter"></div> -->

<script>
	$(function(){
	  $("#includedNav").load("views/nav.html");
	  $("#includedFooter").load("views/footer.html");
	});
</script>