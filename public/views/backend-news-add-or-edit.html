<!doctype html>
<div>
	<style>
		.unvalid-alert {
			font-size: 8px;
			color: #a94442;
		}
		.panel-heading {
			text-align: center;
		}
	</style>

	<div class="panel" ng-class="{'panel-info': $state.is('backend.addNews'), 'panel-warning': $state.is('backend.editNews') }">

		<div class="panel-heading" ng-if="$state.is('backend.addNews')">新增公告</div>
		<div class="panel-heading" ng-if="$state.is('backend.editNews')">編輯公告</div>

		<div class="panel-body">
			<br>
			<form class="form-horizontal" role="form" name="myForm">
				<div class="form-group">
			    <label class="control-label col-md-offset-1 col-md-2" for="category">類別</label>
			    <div class="col-md-3">
			      <select class="form-control" id="category" ng-model="news.category">
			      	<option ng-repeat="cat in categoryList" value="{{cat._id}}">{{cat.name}}</option>
				  </select>
			    </div>
			  </div>
			  <div class="form-group">
			    <label class="control-label col-md-offset-1 col-md-2">標題</label>
			    <div class="col-md-8">
			      <input type="text" class="form-control" id="title" name="title" placeholder="" ng-model="news.title" required>
			      <span class="unvalid-alert" ng-hide="myForm.title.$valid">必填欄位</span>
			    </div>
			  </div>
			  <div class="form-group">
			    <label class="control-label col-md-offset-1 col-md-2">內容</label>
			    <div class="col-md-8"> 
			      <textarea ckeditor="editorOptions" class="form-control" style="resize:vertical;" id="content" name="content" ng-model="news.content" required></textarea>
		      	  <span class="unvalid-alert" ng-hide="myForm.content.$valid">必填欄位</span>
			    </div>
			  </div>
			  <div class="form-group">
				<label class="control-label col-md-offset-1 col-md-2" for="show">顯示公告</label>
				<div class="row">
				  <div class="col-md-2">
					<select class="form-control" ng-options="option.value as option.text for option in newsShowList" ng-model="news.show"></select>
				  </div>
				</div>
			  </div>
			  <div class="form-group">
			    <div class="col-md-offset-3 col-sm-9">
			      <button ng-show="$state.is('backend.addNews')" class="btn btn-info" ng-disabled="!myForm.$valid" ng-click="add()">新增</button>
			      <button ng-show="$state.is('backend.editNews')" class="btn btn-warning" ng-disabled="!myForm.$valid" ng-click="save()">儲存</button>
			      <button class="btn btn-default" ng-click="cancel()">取消</button>
			    </div>
			  </div>

			</form>
			<br>
			<br>
		</div>
	</div>
	

	<script>
		$(function(){
			$('.date').datepicker({
				format: "yyyy/mm/dd",
				language: "zh-TW",
				autoclose: true
			});
		})
	</script>
</div>
